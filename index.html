<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ΔIf — The One Who Assumed</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="progress-bar"></div>

    <div class="top-nav">
        <button class="tool-btn" onclick="toggleDarkMode()">Tema Değiştir</button>
        <button class="tool-btn" onclick="readPageContent()">Yazıyı Dinle</button>
        <button class="tool-btn" onclick="setLanguage('en')">EN</button>
        <button class="tool-btn" onclick="setLanguage('tr')">TR</button>
    </div>

    <header class="hero-section">
        <div class="hero-bg" style="position:absolute; inset:0; z-index:-1;">
            <img src="cover.jpg" alt="Cover">
        </div>
        <div class="hero-content">
            <h1>ΔIf</h1>
            <p class="subtitle content-en visible">The One Who Assumed</p>
            <p class="subtitle content-tr">Varsayım Yapan</p>
        </div>
    </header>

    <main class="page-container">
        
        <section class="about-section reveal">
            <h2 class="content-en visible">About the Archive</h2>
            <h2 class="content-tr">Arşiv Hakkında</h2>
            <div class="content-en visible">
                <p>ΔIf is a curated collection of counterfactual thoughts, produced by <strong>Kalemli Süvari</strong>. It explores the delicate balance between what exists and what could have been.</p>
            </div>
            <div class="content-tr">
                <p>ΔIf, <strong>Kalemli Süvari</strong> tarafından hazırlanan karşı-olgusal düşünceler seçkisidir. Var olan ile olabilecek olan arasındaki hassas dengeyi araştırır.</p>
            </div>
        </section>

        <section class="essays-grid">
            <article class="essay-item reveal">
                <h2 class="content-en visible">Assumption of Absence</h2>
                <h2 class="content-tr">Yokluk Varsayımı</h2>
                <div class="content-en visible">
                    <p>What if silence was the only language we had left? Meaning would drift from sounds to gestures, and finally, to the space between us.</p>
                </div>
                <div class="content-tr">
                    <p>Ya elimizde kalan tek dil sessizlik olsaydı? Anlam sesten jestlere, ve sonunda aramızdaki boşluğa sürüklenirdi.</p>
                </div>
            </article>

            <article class="essay-item reveal">
                <h2 class="content-en visible">Assumption of Excess</h2>
                <h2 class="content-tr">Aşırılık Varsayımı</h2>
                <div class="content-en visible">
                    <p>Too much of everything is functionally equivalent to nothing. When every light is on, the stars vanish.</p>
                </div>
                <div class="content-tr">
                    <p>Her şeyin fazlası, işlevsel olarak hiçbir şeye eşittir. Bütün ışıklar yandığında yıldızlar kaybolur.</p>
                </div>
            </article>
        </section>

        <footer class="reveal">
            <div class="newsletter-section">
                <p class="content-en visible">Subscribe to the silence.</p>
                <p class="content-tr">Sessizliğe abone ol.</p>
                <form class="newsletter-form" style="margin:20px 0">
                    <input type="email" class="newsletter-input" placeholder="Email...">
                    <button type="submit" class="tool-btn" style="color:var(--text-main); border-color:var(--text-main)">Kaydol</button>
                </form>
            </div>
            <p>© 2026 ΔIf Archive | Produced by Kalemli Süvari</p>
        </footer>
    </main>

    <script>
        // 1. KOYU MOD SİSTEMİ
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        // 2. SESLENDİRME ÖZELLİĞİ (Text-to-Speech)
        function readPageContent() {
            const isTr = document.querySelector('.content-tr').classList.contains('visible');
            const selector = isTr ? '.content-tr' : '.content-en';
            const texts = Array.from(document.querySelectorAll(selector)).map(el => el.innerText).join(" ");
            
            const utterance = new SpeechSynthesisUtterance(texts);
            utterance.lang = isTr ? 'tr-TR' : 'en-US';
            utterance.rate = 0.9; // Biraz daha ağır ve edebi bir ton
            
            window.speechSynthesis.cancel(); // Varsa eski sesi durdur
            window.speechSynthesis.speak(utterance);
        }

        // 3. REVEAL EFEKTİ (Düzeltilmiş ve Optimize Edilmiş)
        function reveal() {
            const reveals = document.querySelectorAll(".reveal");
            reveals.forEach(el => {
                const windowHeight = window.innerHeight;
                const elementTop = el.getBoundingClientRect().top;
                const elementVisible = 150;
                if (elementTop < windowHeight - elementVisible) {
                    el.classList.add("active");
                }
            });
        }

        // 4. DİL SİSTEMİ
        function setLanguage(lang) {
            document.querySelectorAll('.content-en, .content-tr').forEach(el => el.classList.remove('visible'));
            if (lang === 'en') {
                document.querySelectorAll('.content-en').forEach(el => el.classList.add('visible'));
            } else {
                document.querySelectorAll('.content-tr').forEach(el => el.classList.add('visible'));
            }
            reveal(); // Dil değişince efektleri tekrar kontrol et
        }

        window.addEventListener("scroll", () => {
            reveal();
            // Okuma çubuğu
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progress-bar").style.width = scrolled + "%";
        });

        // İlk açılışta tetikle
        window.onload = reveal;
    </script>
</body>
</html>
